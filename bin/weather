#!/bin/bash
city=UPXX0010
if [ $1 ]; then
    city=$1
fi

weather=$(curl -s "http://weather.yahooapis.com/forecastrss?p=$city&u=c" | grep "Current Conditions" -A1 | tail -n1 | cut -d"<" -f1)

case "$weather" in
    *Rain*)
        symbol='☂'
    ;;
    *Snow*)
        symbol='❄'
    ;;
    *)
        symbol='☀'
    ;;
esac

if [ $symbol ]; then
    weather=$symbol' '$weather
fi
echo $weather
